# 객체
: 데이터를 저장하고 관리하기 위한 논리구조를 갖는 구성 요소
- 테이블      : 데이터를 저장하는 공간
- 뷰          : 가상 테이블
               * 여러 개의 테이블을 논리적으로 하나의 테이블처럼 연결한 객체
- 인덱스      : 색인, 테이블의 검색 효율을 높이기 위한 객체 
- 시퀀스      : 순서번호(일렬번호)를 생성하는 객체
- 시노님      : 테이블 등 객체에 대한 별칭을 지정하는 객체
- 함수        : 프로그래밍 연산이 가능한, 입력과 출력이 가능한 객체
- 프로시저    : 프로그래밍 연산이 가능한, 특정작업을 수행하는 쿼리들의 집합  
- 패키지      : 관련있는 함수와 프로시저를 묶어놓은 객체 
- 트리거      : 테이블에 대한 이벤트를 인식해서 자동으로 실행되는 작업을 정의한 객체 
- 스케줄      : 특정 시간이나 주기마다 자동 실행하도록 하는 작업을 정의한 객체 

## 데이터 사전 
: 데이터베이스를 구성하고 운영하는데 필요한 정보를 저장하는 테이블
- 데이터베이스의 메모리/사용자/권한/객체 등과 같은 중요한 정보가 저장되어 있다.
- 오라클에서는 데이터 사전에 직접 접근이 불가능하게 되어 있다.
   (데이터 사전의 데이터가 손실되면, 데이터베이스 사용에 문제가 발생할 수 있다.)
- 데이터 사전 뷰를 통해서만 조회할 수 있도록 하고 있다.

### 데이터 사전 뷰
- USER_???    : 사용자가 사용하는 객체 정보 
- ALL_???     : 사용가능한 모든 객체 정보 
- DBA_???     : 시스템 관리자계정(system)만 접근 가능한 관리 정보 
- V$_???      : 데이터 베이스 성능 관련 정보 

## 뷰(VIEW)
: "가상 테이블"
하나 이상의 테이블을 조회하는 SELECT 문을 지정한 객체

### 목적
1. 편리성     : 쿼리의 복잡도를 줄이기 위해서
2. 보안성     : 민감한 정보에 대한 노출을 방지하기 위해서(주민번호, 비밀번호)

- 뷰 생성
  CREATE [OR REPLACE] VIEW 뷰이름  (컬럼1, 컬럼2, 컬럼3, ... )
  AS ( SELECT 문 );

  - 뷰 삭제
    DROP VIEW 뷰이름;

## 시퀀스 (SEQUENCE)
: 특정 규칙에 따라 연속된 숫자를 생성하는 객체 
ex) 게시글 등록 시 , 게시글 번호를 자동으로 증가시켜주는 시퀀스

- 시퀀스 생성
  CREATE SEQUENCE 시퀀스명
  [INCREMENT BY 증가값]
  [START WITH 시작값]
  [MAXVALUE 최댓값]
  [MINVALUE 최솟값]
  ;

  - 시퀀스 사용
  * 현재 시퀀스 값 : 시퀀스명.CURRVAL
  * 다음 시퀀스 값 : 시퀀스명.NEXTVAL

- 시퀀스 수정
  ALTER SEQUENCE 시퀀스명
  [INCREMENT BY 증가값]
  [START WITH 시작값]
  [MAXVALUE 최댓값]
  [MINVALUE 최솟값]
  ;

- 시퀀스 삭제
   DROP SEQUENCE 시퀀스명;


## 인덱스
: "색인"
데이터 조회 성능을 향상시키기 위해 테이블 열에 사용하는 객체 

- 인덱스 생성
 CREATE INDEX 인덱스명
    ON 테이블명 ( 컬럼1 ASC or DESC,
                 컬럼1 ASC or DESC,
                 ...                  
                );

- 인덱스 삭제
 DROP INDEX 인덱스명;


## 시노님 
: 객체에 대한 별칭을 만드는 객체

- 시노님 생성
CREATE [OR REPLACE] SYNONYM 시노님명
FOR 스키마명.객체명;

- 시노님 삭제
DROP SYNONYM;


## 함수
: 입력값을 받아 계산한 후, 결과를 반환(RETURN)하는 객체 

- 함수 생성
CREATE [OR REPLACE] FUNCTION 함수명 (
   파라미터명 데이터타입
)
RETURN 반환타입
IS
  -- 선언부
  변수 데이터타입;
BEGIN
  -- 실행부
  로직 수행;
  RETURN 반환값;
END;
/

- 함수 삭제
DROP FUNCTION 함수명;

## 프로시저
: 특정 작업을 수행하는 코드 모음

- 프로시저 생성
CREATE [OR PEPLACE] PROCEDURE 프로시저명 (
    파라미터 IN 데이터타입,
    파라미터 OUT 데이터타입,
    파라미터 [IN | OUT | IN OUT] 데이터 타입
)
IS 
  -- 선언부
  변수 데이터타입;
BEGIN 
  -- 실행부
  로직 수행;
END;
/

- 프로시저 삭제
DROP PROCEDURE 프로시저명;

## 패키지
: 관련 함수 및 프로시저 등을 묶어놓은 객체 

- 패키지 생성
CREATE [OR REPLACE] PACKAGE 패키지명 IS
  -- 함수/프로시저 선언부 
  FUNCTION 함수명 RETURN 반환타입;
  PROCEDURE 프로시저명;
END 패키지명;
/

-- 패키지 본문(Body) 생성
CREATE [OR REPLACE] PACKAGE BODY 패지지명 IS 
  FUNCTION 함수명 RETURN NUMBER IS 
  BEGIN 
    로직수행;
    RETURN 반환값;
  END 함수명;

  PROCEDURE 프로시저명 IS
  BEGIN
    로직수행;
  END 프로시저명;

END 패키지명;

- 패키지 삭제 
DROP PACKAGE 패키지명;

## 트리거 
: 특정 이벤트 발생 시 자동 실행되는 객체

- 트리거 생성 
CREATE [OR REPLACE] TRIGGER 트리거명
BEFORE OR AFTER 
INSERT OR UPDATE OR DELETE
ON 테이블명
[FOR EACH ROW]       -- 행 단위 
BEGIN
  실행코드;
END;
/

## 스케줄 
: 특정 시간 또는 주기마다 자동실행하는 객체 

- 스케줄 생성 (JOB)
BEGIN 
  DMBS_SCHEDULER.create_job(
    job_name             => 'JOB명',
    job_type             => 'PLSQL_BLOCK',
    job_action           => '로직',
    start_date           => systimestamp,
    repeat_interval      => 'FREQ=단위 (연월일시분초); INTERVAL=값'
    enabled              => [TRUE | FALSE]
  );
END;
/

- 스케줄 수정 (JOB)
BEGIN
  DMBS_SCHEDULER.set_attribute(
    name         => 'JOB명',
    attribute    => 'repeat_interval',
    value        => 'FREQ=수정할값'
  )
END;
/

- 스케줄 비/활성화
BEGIN
  DBMS_SCHEDULER.enanle('JOB명');     -- 활성화
  DBMS_SCHEDULER.disable('JOB명');    -- 비활성화
END;
/

- 스케줄 삭제
BEGIN
  DBMS_SCHEDULER.drop_job('JOB명');
END;
/

 

